apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: supercheck-traefik

resources:
  - ../../base
  - traefik-ingress.yaml
  - traefik-middlewares.yaml

# Remove the NGINX ingress from base
patchesJson6902:
- target:
    group: apps
    version: v1
    kind: Kustomization
    name: supercheck-base
  patch: |-
    - op: remove
      path: /resources/12  # Remove ingress.yaml from base resources

commonLabels:
  ingress-controller: traefik

namespace: supercheck