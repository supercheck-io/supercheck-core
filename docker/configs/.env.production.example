# Supercheck Production Environment Configuration
# Copy this file to .env.production and update with your values

# Domain Configuration
DOMAIN=yourdomain.com
LETSENCRYPT_EMAIL=admin@yourdomain.com
TRAEFIK_BASIC_AUTH=admin:$apr1$hash  # Replace with actual hash: htpasswd -nb admin password

# Database Configuration
POSTGRES_DB=supercheck
POSTGRES_USER=supercheck
POSTGRES_PASSWORD=your_secure_postgres_password_here

# Redis Configuration
REDIS_PASSWORD=your_secure_redis_password_here

# MinIO/S3 Configuration
MINIO_ROOT_USER=supercheck
MINIO_ROOT_PASSWORD=your_secure_minio_password_here
MINIO_BROWSER_REDIRECT_URL=https://minio.yourdomain.com:9001
AWS_REGION=us-east-1
S3_BUCKET_NAME=supercheck-artifacts
S3_ENDPOINT=http://minio:9000

# Authentication Configuration
NEXTAUTH_URL=https://yourdomain.com
NEXTAUTH_SECRET=your_nextauth_secret_here_at_least_32_characters

# Application Configuration
NODE_ENV=production
RUNNING_CAPACITY=10
QUEUED_CAPACITY=100
TEST_EXECUTION_TIMEOUT_MS=300000

# AI Configuration
AI_FIX_ENABLED=false
AI_PROVIDER=openai
AI_MODEL=gpt-4
OPENAI_API_KEY=your_openai_api_key_here

# Email Configuration
SMTP_HOST=smtp.yourprovider.com
SMTP_PORT=587
SMTP_USER=your_email@yourdomain.com
SMTP_PASSWORD=your_email_password_here
SMTP_FROM=noreply@yourdomain.com

# Monitoring Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_secure_grafana_password_here
GRAFANA_DOMAIN=grafana.yourdomain.com
GRAFANA_ROOT_URL=https://grafana.yourdomain.com

# SSL Configuration (if using custom SSL)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# Backup Configuration
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=supercheck-backups
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key_here

# Security Configuration
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Performance Configuration
CACHE_TTL_SECONDS=300
MAX_CONCURRENT_JOBS=50
JOB_TIMEOUT_MS=600000

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_MAX_SIZE=100m
LOG_MAX_FILES=5

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Resource Limits
APP_MEMORY_LIMIT=2G
APP_CPU_LIMIT=1.0
WORKER_MEMORY_LIMIT=4G
WORKER_CPU_LIMIT=2.0
POSTGRES_MEMORY_LIMIT=2G
POSTGRES_CPU_LIMIT=1.0
REDIS_MEMORY_LIMIT=512M
REDIS_CPU_LIMIT=0.5
MINIO_MEMORY_LIMIT=1G
MINIO_CPU_LIMIT=0.5

# External Services
WEBHOOK_SECRET=your_webhook_secret_here
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# Feature Flags
ENABLE_BETA_FEATURES=false
ENABLE_DEBUG_MODE=false
ENABLE_DETAILED_LOGGING=false
ENABLE_METRICS_COLLECTION=true
ENABLE_PERFORMANCE_MONITORING=true

# Domain Configuration
DOMAIN=yourdomain.com
API_DOMAIN=api.yourdomain.com
MONITORING_DOMAIN=monitoring.yourdomain.com
MINIO_DOMAIN=minio.yourdomain.com

# SSL Certificate Configuration
SSL_EMAIL=admin@yourdomain.com
SSL_STAGING=false
SSL_RENEWAL_SCHEDULE=0 4 * * *

# Database Connection Pooling
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=60000

# Redis Connection Pooling
REDIS_POOL_MIN=5
REDIS_POOL_MAX=20
REDIS_POOL_IDLE_TIMEOUT=30000

# Queue Configuration
QUEUE_CONCURRENCY=10
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=5000
QUEUE_REMOVE_ON_COMPLETE=100
QUEUE_REMOVE_ON_FAIL=50

# File Upload Configuration
MAX_FILE_SIZE=100MB
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,jpg,jpeg,png,gif,webp,svg
UPLOAD_TIMEOUT=30000

# API Configuration
API_RATE_LIMIT=1000
API_TIMEOUT=30000
API_RETRY_ATTEMPTS=3
API_RETRY_DELAY=1000

# Security Headers
HELMET_ENABLED=true
CORS_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true

# Monitoring and Alerting
ALERT_EMAIL=admin@yourdomain.com
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
METRICS_RETENTION_DAYS=30
LOG_RETENTION_DAYS=7

# Backup and Recovery
AUTO_BACKUP_ENABLED=true
BACKUP_ENCRYPTION_ENABLED=true
BACKUP_COMPRESSION_ENABLED=true
BACKUP_VERIFICATION_ENABLED=true

# Development/Debug Settings (set to false in production)
DEBUG_SQL=false
DEBUG_REDIS=false
DEBUG_DOCKER=false
DEBUG_SWARM=false